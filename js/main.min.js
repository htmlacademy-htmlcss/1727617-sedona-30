const button=document.querySelector(".search-hotel__button"),modal=document.querySelector(".search-modal"),arrivalDate=modal.querySelector("[name=arrival-date]"),departureDate=modal.querySelector("[name=departure-date]"),adultAmount=modal.querySelector("[name=adult-amount]"),childrenAmount=modal.querySelector("[name=children-amount]"),form=modal.querySelector("form"),countPlus=modal.querySelectorAll(".plus"),countMinus=modal.querySelectorAll(".minus");let isStorageSupport=!0,storageAdult="",storageChildren="";try{storageAdult=localStorage.getItem("adultAmount"),storageChildren=localStorage.getItem("childrenAmount")}catch(e){isStorageSupport=!1}modal.classList.add("hide-modal"),button.addEventListener("click",function(){modal.classList.toggle("hide-modal"),modal.classList.remove("modal-error"),arrivalDate.focus(),storageAdult&&(adultAmount.value=storageAdult),storageChildren&&(childrenAmount.value=storageChildren)}),form.addEventListener("submit",function(e){arrivalDate.value&&departureDate.value&&adultAmount.value&&childrenAmount.value&&(0!=adultAmount.value||0!=childrenAmount.value)?isStorageSupport&&(localStorage.setItem("adultAmount",adultAmount.value),localStorage.setItem("childrenAmount",childrenAmount.value)):(e.preventDefault(),modal.classList.remove("modal-error"),modal.offsetWidth=modal.offsetWidth,modal.classList.add("modal-error"))});for(let e=0;e<countPlus.length;e++)countPlus[e].addEventListener("click",function(e){e.preventDefault();let t=this.parentNode.querySelector("input");e=parseInt(t.value)+1;t.value=0<e?e:1});for(let e=0;e<countMinus.length;e++)countMinus[e].addEventListener("click",function(e){e.preventDefault();let t=this.parentNode.querySelector("input");e=parseInt(t.value)-1;t.value=0<e?e:0});